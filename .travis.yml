language: python
python:
  - '3.8.0'
install:
  - 'pip install -e .'
  - 'pip install flake8 pipenv pytest-cov pytest-mock'
  - 'python -m nltk.downloader stopwords'
before_script:
  - 'flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics'
script:
  - 'funnel -s demo/settings.yaml'
  - 'pytest --cov=jobfunnel --cov-report=xml'
after_success:
  - 'bash <(curl -s https://codecov.io/bash)'
